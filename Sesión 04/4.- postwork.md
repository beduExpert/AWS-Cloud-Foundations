# Postwork

# 1. Objetivo 游꿢
- Asegurar el cifrado de informaci칩n en tr치nsito para el bucket configurado como servidor web est치tico de la sesi칩n 2.

# 2. Requisitos 游늷
- Acceso a una cuenta de AWS por medio de AWS Console

# 3. Desarrollo 游늼

Para asegurar el tr치fico sobre el protocolo https se generar치 un certificado de seguridad. Para ellos seguir los pasos:

1. Acceder a la Consola de administraci칩n, seleccionar "Certificate Manager"

![pw-certificate-manager.png](pw-certificate-manager.png)

2. Seleccionar "Aprovisionar certificados"

![pw-aprovisionar2.png](pw-aprovisionar2.png)

3. Seleccionar "Solicitar un certificado p칰blico"
![pw-certificado-publico.png](pw-certificado-publico.png)

4. Se deber치 especificar el o los subdominios para los que el certificado ser치 emitido, como ejemplo se emitir치 un certificado wildcard para el dominio edupractice.tk
![pw-wildcard.png](pw-wildcard.png)

5. Antes de seguir con la generaci칩n del certificado se debe comprobar la propiedad del dominio, en este caso se har치 la comprobaci칩n por medio de un registro en el DNS.
![pw-domain-dns-ownership.png](pw-domain-dns-ownership.png)

6. Especificar las etiquetas que el recurso tendr치, 칰tiles a la hora de analizar costos o administrar recursos.
![pw-certificate-tags.png](pw-certificate-tags.png)

7. Revisar el o los dominios para los que se solicitar치 el certificado, proceder con la solicitud
![pw-certificate-solicitud.png](pw-certificate-solicitud.png)

8. Las instrucciones para comprobar la propiedad del certificado son generadas, en el caso de manejar el DNS con Route 53 el registro CNAME es generado autom치ticamente, en caso de no manejar el DNS con Route 53 se tendr치 que generar el registro CNAME de forma manual con los valores que aparecen en las instrucciones.
![pw-dns-01.png](pw-dns-01.png)

![pw-Certificate-manager-dns-02.png](pw-Certificate-manager-dns-02.png)

9. El registro DNS se genera y el certificado ser치 generado al cabo de unos minutos.
![aws-certificate-ownership-done.png](aws-certificate-ownership-done.png)

![pw-certificado-emitido.png](pw-certificado-emitido.png)




El paso siguiente: Ya se cuenta con un sitio servido por Cloudfront, para asegurar el tr치fico https es necesario hacer los siguientes pasos:


1. Acceder en la consola de administraci칩n seleccionando "CloudFront.

![aws-clodfront.png](aws-clodfront.png)

2. Click en la distribuci칩n previamente hecha para editar su configuraci칩n.
![pw-edit-distribution.png](pw-edit-distribution.png)

3. Click en "Edit"
![pw-edit-the-distribution.png](pw-edit-the-distribution.png)

4. Configurar como:
a) Establecer el subdominio `app`, en este caso `app.edupractice.tk`.
b), c) Seleccionar un certificado custom, escoger el reci칠n generado.
d) Seleccionar soporte SNI.
e) Seleccionar la familia de protocolos criptogr치ficos recomendados.
![pw-set-certificate.png](pw-set-certificate.png)

Se tiene ya configurada la distribuci칩n con soporte HTTPS.
![pw-ssl-established.png](pw-ssl-established.png)

----------------

Se debe activar el soporte SSL en la configuraci칩n de DNS.

1. Ir a Route 53.
![pw-goto-route53.png](pw-goto-route53.png)

2. Seleccionar las zonas alojadas.
![pw-select-zones.png](pw-select-zones.png)

3. Seleccionar el dominio
![pw-select-domain.png](pw-select-domain.png)

4. Seleccionar el dominio (a), click en "Editar"
![pw-edit-domain.png](pw-edit-domain.png)

5. Configurar el registro como:
a) Seleccionar CloudFront.
b) Seleccionar la regi칩n de la distribuci칩n de CloudFront.
c) Seleccionar la distribuci칩n.
![pw-configure-register-as.png](pw-configure-register-as.png)

El registro es actualizado
![pw-dns-register-done.png](pw-dns-register-done.png)

En un navegador ingresar la URL del subdominio, al accederlo se puede observar el certificado de seguridad habilitado.

![pw-ssl-enabled-done.png](pw-ssl-enabled-done.png)
